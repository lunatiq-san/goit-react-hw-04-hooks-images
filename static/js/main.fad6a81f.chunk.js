(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ImageGalleryItem_item__3JaW9",image:"ImageGalleryItem_image__3tdzC"}},11:function(e,t,a){e.exports={btn:"Button_btn__31lRa",btnContainer:"Button_btnContainer__17Tbu"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__2njy-",modal:"Modal_modal__1g-of"}},24:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3LyZX"}},29:function(e,t,a){},30:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar___CIT6",searchForm:"Searchbar_searchForm__Qo0zg",btn:"Searchbar_btn__n2xaN",btnLabel:"Searchbar_btnLabel__3L5np",input:"Searchbar_input__39-yg",inputPlaceholder:"Searchbar_inputPlaceholder__dtLhN"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(7),r=a.n(o),i=(a(29),a(13)),s=a(4),l=(a(30),a(22)),u=a.n(l),b=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n,o=e.perPage,r=void 0===o?12:o;return u.a.get("".concat("https://pixabay.com/api","/?q=").concat(a,"&page=").concat(c,"&per_page=").concat(r,"&key=").concat("21837962-4cd9da589d4f9b46acd6bb393","&image_type=photo&orientation=horizontal")).then((function(e){return e.data.hits}))},m=a(23),j=a.n(m),d=a(5),h=a.n(d),f=a(1);var g=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],r=c[1];return Object(f.jsx)("header",{className:h.a.searchbar,children:Object(f.jsxs)("form",{className:h.a.searchForm,onSubmit:function(e){e.preventDefault(),t(o),r("")},children:[Object(f.jsx)("button",{type:"submit",className:h.a.btn,children:Object(f.jsx)("span",{className:h.a.btnLabel,children:"Search"})}),Object(f.jsx)("input",{className:h.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.currentTarget.value)},value:o})]})})},O=a(24),_=a.n(O),p=a(10),v=a.n(p),x=function(e){var t=e.image,a=e.onImageClick;return Object(f.jsx)("li",{className:v.a.item,children:Object(f.jsx)("img",{src:t.webformatURL,alt:t.tags,className:v.a.image,onClick:function(){return a(t.largeImageURL)}})})};x.defaultProps={tags:""};var y=x,S=function(e){var t=e.images,a=e.onImageClick;return Object(f.jsx)("ul",{className:_.a.imageGallery,children:t.map((function(e){return Object(f.jsx)(y,{image:e,onImageClick:a},e.id)}))})},C=a(11),k=a.n(C),w=function(e){var t=e.onClick;return Object(f.jsx)("div",{className:k.a.btnContainer,children:Object(f.jsx)("button",{className:k.a.btn,type:"button",onClick:t,children:"Load more"})})},N=a(12),I=a.n(N),L=document.getElementById("modal-root");var E=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(f.jsx)("div",{className:I.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:I.a.modal,children:a})}),L)};var F=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),r=Object(s.a)(o,2),l=r[0],u=r[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),h=d[0],O=d[1],_=Object(n.useState)(!1),p=Object(s.a)(_,2),v=p[0],x=p[1],y=Object(n.useState)(null),C=Object(s.a)(y,2),k=C[0],N=C[1],I=Object(n.useState)(!1),L=Object(s.a)(I,2),F=L[0],P=L[1],G=Object(n.useState)(""),B=Object(s.a)(G,2),T=B[0],z=B[1];Object(n.useEffect)((function(){h&&J()}),[h]),Object(n.useEffect)((function(){l>2&&M()}),[l]);var J=function(){var e={searchQuery:h,currentPage:l};x(!0),b(e).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),u(l+1)})).catch((function(e){N(e)})).finally((function(){x(!1)}))},M=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},Q=a.length>0&&!v;return Object(f.jsxs)(f.Fragment,{children:[F&&Object(f.jsx)(E,{onClose:function(){P(!F)},children:Object(f.jsx)("img",{src:T,alt:"",className:"modalImage"})}),Object(f.jsx)(g,{onSubmit:function(e){O(e),u(1),c([]),N(null)}}),k&&Object(f.jsx)("h1",{children:"Ooops... Something went wrong"}),v&&Object(f.jsx)(j.a,{type:"Puff",color:"#00BFFF",height:50,width:50,className:"loader"}),Object(f.jsx)(S,{images:a,onImageClick:function(e){z(e),P(!0)}}),Q&&Object(f.jsx)(w,{onClick:J})]})};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.fad6a81f.chunk.js.map